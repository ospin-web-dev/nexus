<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><p><a href="https://codecov.io/gh/ospin-web-dev/nexus"><img src="https://codecov.io/gh/ospin-web-dev/nexus/branch/main/graph/badge.svg?token=Js7X2xLEwB" alt="codecov"></a>
<a href="https://codeclimate.com/github/ospin-web-dev/nexus/maintainability"><img src="https://api.codeclimate.com/v1/badges/a404fb8a258e6f46b81f/maintainability" alt="Maintainability"></a></p>
<p>This documentation is likely to remain sparse, as it is for internal use and under development!</p>
<p><a href="https://app.swaggerhub.com/apis-docs/OSPIN-Webapp/ospin-rest_api/latest">For additional documentation see our endpoint documentation</a></p>
<hr>
<h2>Table of Contents</h2>
<ul>
<li><a href="#UseOverview">Use Overview</a>
<ul>
<li><a href="#Configuration">Configuration</a></li>
<li><a href="#Authenticating-as-a-User">Authenticating as a User</a></li>
<li><a href="#Authenticating-as-a-Device">Authenticating as a Device</a></li>
</ul>
</li>
<li><a href="#API-documentation">API Documentation</a>
<ul>
<li><a href="#modules-and-their-methods">Modules and their Methods</a></li>
<li><a href="#helper-methods">Helper Methods</a></li>
</ul>
</li>
<li><a href="#Use-Examples">Use Examples</a></li>
<li><a href="#Contributing">Contributing</a></li>
<li><a href="#Upcoming">Upcoming</a></li>
</ul>
<hr>
<h2><a name="UseOverview">Use Overview</a></h2>
<p>The @ospin/nexus exposes a set of conveniences methods wrapping calls to the OSPIN AWS backend, JSON serving, rest-like, API. Unless a method is explicitly labeled as using a public endpoint, or otherwise stated, all nexus consumers must do the following before using the methods provided:</p>
<ul>
<li><a href="#Configuration">configure the nexus for their environment</a></li>
<li>authenticate <a href="#Authenticating-as-a-User">as a User</a> or <a href="#Authenticating-as-a-Device">as a Device</a></li>
</ul>
<h4><a name="Configuration">Configuration</a></h4>
<pre class="prettyprint source lang-js"><code>const nexus = require('@ospin/nexus') // or import

nexus.connect({
  ENV: &lt;oneOf['dev', 'staging', 'prod']>), // default: 'prod'
  AWS_REGION, // default: 'eu-central-1'
})
// -> { result, config }

// if you'd like to inspect the configuration object that `connect` is ultimately using:
nexus.createConfig() // &lt;- returns the default configuration
nexus.createConfig({ ENV, AWS_REGION }) // &lt;- returns a custom configuration
</code></pre>
<h4><a name="Authenticating-as-a-User">Authenticating as a User</a></h4>
<p>With the nexus configured, a user can authenticate as their OSPIN AWS Cognito user:</p>
<pre class="prettyprint source lang-js"><code>const nexus = require('@ospin/nexus')

nexus.auth.signIn(&lt;username>, &lt;password>) // may require 2FA
</code></pre>
<h4><a name="Authenticating-as-a-Device">Authenticating as a Device</a></h4>
<p>With the nexus configured, a device can authenticate using its certificate:</p>
<pre class="prettyprint source lang-js"><code>const nexus = require('@ospin/nexus')

nexus.createConfig()
nexus.connect()

nexus.deviceAPI.authentication.setCredentials({
  deviceId: &lt;deviceId>,
  pathToCert: &lt;pathToCert>
})


nexus.deviceAPI.validateAuthorization()
// -> { sucess, status, data, errorMsg }

</code></pre>
<hr>
<h2><a name="API-documentation">API Documentation</a></h2>
<h4><a name="modules-and-their-methods">Modules and their Methods</a></h4>
<pre class="prettyprint source lang-js"><code>nexus
â”œâ”€â”€ auth
â”‚    â”œâ”€â”€ signIn(&lt;username>, &lt;password>) // may require 2FA
â”‚    â”œâ”€â”€ signOut()
â”‚    â”œâ”€â”€ globalSignOut()
â”‚    â””â”€â”€ getCurrentSession()
â”œâ”€â”€ user
â”‚    â”œâ”€â”€ get(&lt;userId>) // may require 2FA
â”‚    â”œâ”€â”€ list()
â”‚    â”œâ”€â”€ createDeletionRequest(&lt;userId>)
â”‚    â”œâ”€â”€ update(&lt;userId>, &lt;userParamsObj>)
â”‚    â””â”€â”€ notifications
â”‚         â””â”€â”€ putAll(&lt;notificationObj>)
â”œâ”€â”€ command
â”‚    â””â”€â”€ device
â”‚         â””â”€â”€ process
â”‚               â””â”€â”€ startProcess(&lt;deviceId>, &lt;processId>)
â”œâ”€â”€ datapoints
â”‚    â””â”€â”€ get(&lt;processId>, &lt;reporterFctId>, &lt;params>)
â”œâ”€â”€ device
â”‚    â”œâ”€â”€ list()
â”‚    â”œâ”€â”€ create(&lt;deviceParamsObj>)
â”‚    â”œâ”€â”€ createHeidolphCoreGateway(&lt;deviceParamsObj>)
â”‚    â””â”€â”€ certificate
â”‚         â””â”€â”€ get(&lt;deviceId>)
â”œâ”€â”€ log
|    â””â”€â”€ device
|         â””â”€â”€ deleteMany(&lt;deviceId>)
â”œâ”€â”€ process
|    â”œâ”€â”€ functionality
|    â”‚    â””â”€â”€ image
|    â”‚          â”œâ”€â”€ create(&lt;processId>, &lt;fctId>, &lt;body>)
|    â”‚          â””â”€â”€ list(&lt;processId>, &lt;fctId>, &lt;opts>)
|    â””â”€â”€ annotation
â”‚         â”œâ”€â”€ create({ processId: &lt;processId>, data: &lt;dataObject> })
â”‚         â”œâ”€â”€ delete({ processId: &lt;processId>, annotationId: &lt;annotationId> })
â”‚         â””â”€â”€ update({ processId: &lt;processId>, annotationId: &lt;annotationId>, data: &lt;dataObject> })
â””â”€â”€ deviceAPI
     â”œâ”€â”€ authentication
     |    â”œâ”€â”€ setCredentials({ deviceId, pathToCert })
     |    â””â”€â”€ validateAuthorization()
     â””â”€â”€ process
          â”œâ”€â”€ get(&lt;processId>)
          â””â”€â”€ functionality
               â””â”€â”€ image
                    â”œâ”€â”€ createFromUri(&lt;processId>, &lt;fctId>, &lt;body>)
                    â””â”€â”€ createFromFile(&lt;processId>, &lt;fctId>, &lt;body>)
</code></pre>
<h5><strong>All methods above return a standardized response object, e.g.:</strong></h5>
<pre class="prettyprint source lang-js"><code>const nexus = require('@ospin/nexus')

const {
  success: &lt;boolean>,
  status: &lt;100 - 500>, // HTTP response status code
  data: {}, // JSON safe object
  error: &lt;errObj>, // the error if the request failed
  errorMsg: &lt;string>, // a conveniently parsed error message
} = nexus.user.list()

</code></pre>
<h4><a name="helper-methods">Helper Methods</a></h4>
<pre class="prettyprint source lang-js"><code>nexus
â”œâ”€â”€ createConfig(connectionOpts) // See the #Configuration section above
â””â”€â”€ connect(connectionOpts) // uses createConfig's returned object - sets the configuration to the nexus
</code></pre>
<hr>
<h2><a name="Use-Examples">Use Example</a></h2>
<pre class="prettyprint source lang-js"><code>// getting the list representation of all devices (that the authenticated consumer is privileged to)
const nexus = require('@ospin/nexus')

nexus.connect()

const username = 'Nero Claudius Caesar Augustus Germanicus'
const password = 'BurnRomeToMakeANewPalace@Good-Plan-&-Ok-Password',

nexus.auth.signIn(username, password)

const {
  success: listDevicesWasSuccessful,
  data: devicesList,
  errorMsg: listDevicesErrorMsg,
  error: listDevicesError
} = nexus.device.list()

if (listDevicesWasSuccessful) {
  console.log(deviceList)
  // -> [ { ...deviceObj }, { ...deviceObj }, ... ]
} else {
  // kindly find out why...
  console.error(errorMsg)

  // ..or live up to the username and be an unforgiving and unyielding tyrant
  throw listDevicesError
  // -> ðŸ’£
}

</code></pre>
<hr>
<h2><a name="Contributing">Contributing</a></h2>
<p>This repo employs the github action <a href="https://semantic-release.gitbook.io/semantic-release/">semantic-release</a>, which, on approved PRs to <code>main</code>, sniffs the PR title/commit message to automatically bump the semantic versioning and publish the package to NPM.</p>
<p>All PRs to the <code>main</code> branch should indicate the semantic version change via the following options:</p>
<p>Available types:</p>
<ul>
<li>feat: A new feature</li>
<li>fix: A bug fix</li>
<li>docs: Documentation only changes (unclear if this bumps version)</li>
<li>style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)</li>
<li>refactor: A code change that neither fixes a bug nor adds a feature</li>
<li>perf: A code change that improves performance</li>
<li>test: Adding missing tests or correcting existing tests</li>
<li>build: Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)</li>
<li>ci: Changes to our CI configuration files and scripts (example scopes: Travis, Circle, BrowserStack, SauceLabs)</li>
<li>chore: Other changes that don't modify src or test files</li>
<li>revert: Reverts a previous commit</li>
</ul>
<hr></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="nexus.auth.html">auth</a></li><li><a href="nexus.command.html">command</a></li><li><a href="nexus.command.device.html">device</a></li><li><a href="nexus.command.device.process.html">process</a></li><li><a href="nexus.dataPoints.html">dataPoints</a></li><li><a href="nexus.dataPoints.downloadRequest.html">downloadRequest</a></li><li><a href="nexus.device.html">device</a></li><li><a href="nexus.device.access.html">access</a></li><li><a href="nexus.device.certificate.html">certificate</a></li><li><a href="nexus.device.functionality.html">functionality</a></li><li><a href="nexus.device.functionality.calibration.html">calibration</a></li><li><a href="nexus.device.functionalityConfiguration.html">functionalityConfiguration</a></li><li><a href="nexus.device.functionalityGraph.html">functionalityGraph</a></li><li><a href="nexus.device.functionalityGraph.configuration.html">configuration</a></li><li><a href="nexus.device.functionalityGraph.physicalMapping.html">physicalMapping</a></li><li><a href="nexus.device.manufacturer.html">manufacturer</a></li><li><a href="nexus.device.manufacturer.deviceType.html">deviceType</a></li><li><a href="nexus.deviceAPI.html">deviceAPI</a></li><li><a href="nexus.deviceAPI.authentication.html">authentication</a></li><li><a href="nexus.deviceAPI.configuration.html">configuration</a></li><li><a href="nexus.deviceAPI.functionality.html">functionality</a></li><li><a href="nexus.deviceAPI.process.html">process</a></li><li><a href="nexus.deviceAPI.process.functionality.html">functionality</a></li><li><a href="nexus.deviceAPI.process.functionality.image.html">image</a></li><li><a href="nexus.deviceAPI.process.stream.html">stream</a></li><li><a href="nexus.deviceAPI.process.stream.image.html">image</a></li><li><a href="nexus.event.html">event</a></li><li><a href="nexus.event.device.html">device</a></li><li><a href="nexus.licence.html">licence</a></li><li><a href="nexus.licence.type.html">type</a></li><li><a href="nexus.log.html">log</a></li><li><a href="nexus.log.device.html">device</a></li><li><a href="nexus.process.html">process</a></li><li><a href="nexus.process.access.html">access</a></li><li><a href="nexus.process.annotation.html">annotation</a></li><li><a href="nexus.process.functionality.html">functionality</a></li><li><a href="nexus.process.functionality.image.html">image</a></li><li><a href="nexus.process.preview.html">preview</a></li><li><a href="nexus.process.snapshot.html">snapshot</a></li><li><a href="nexus.pusher.html">pusher</a></li><li><a href="nexus.pusher.DeviceMaintenancePusherChannel.html">DeviceMaintenancePusherChannel</a></li><li><a href="nexus.pusher.DeviceProcessesPusherChannel.html">DeviceProcessesPusherChannel</a></li><li><a href="nexus.pusher.DeviceProcessPusherChannel.html">DeviceProcessPusherChannel</a></li><li><a href="nexus.pusher.DeviceProcessStreamingDataPusherChannel.html">DeviceProcessStreamingDataPusherChannel</a></li><li><a href="nexus.pusher.OspinPusherClient.html">OspinPusherClient</a></li><li><a href="nexus.uIConfig.html">uIConfig</a></li><li><a href="nexus.uIConfig.userFctGraphUIConfig.html">userFctGraphUIConfig</a></li><li><a href="nexus.user.html">user</a></li><li><a href="nexus.user.device.html">device</a></li><li><a href="nexus.user.licence.html">licence</a></li><li><a href="nexus.user.notifications.html">notifications</a></li><li><a href="nexus.user.preview.html">preview</a></li><li><a href="nexus.user.pusher.html">pusher</a></li><li><a href="nexus.user.pusher.subscriptions.html">subscriptions</a></li><li><a href="nexus.user.pusher.subscriptions.device.html">device</a></li><li><a href="nexus.user.pusher.subscriptions.device.process.html">process</a></li><li><a href="nexus.utils.html">utils</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Sep 08 2022 10:11:12 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>